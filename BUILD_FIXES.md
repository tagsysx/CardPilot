# CardPilot Build Issue Fixes

## Issue: "Failed to initialize logging system due to time out" - ✅ RESOLVED

This error has been successfully resolved! The issue was caused by:
1. **Info.plist conflict** - Multiple commands trying to generate the same Info.plist file
2. **Launch screen compatibility** - Storyboard format incompatible with current Xcode version

### ✅ Applied Solution:
- Removed manual Info.plist (now auto-generated by Xcode)
- Removed incompatible LaunchScreen.storyboard
- Cleaned build artifacts and derived data

This error is common in Xcode and can be resolved using several approaches:

### Solution 1: Environment Variable Fix (Recommended)

1. **In Xcode:**
   - Open your CardPilot project
   - Click on the scheme selector (CardPilot) next to the device selector
   - Select "Edit Scheme..."
   - Go to "Run" → "Arguments" → "Environment Variables"
   - Add a new environment variable:
     - **Name:** `IDEPreferLogStreaming`
     - **Value:** `YES`
   - Click "Close"

### Solution 2: Clean Build Folder

1. **In Xcode menu:**
   - Product → Clean Build Folder (⇧⌘K)
   - Or use terminal: `xcodebuild clean -project CardPilot.xcodeproj`

### Solution 3: Reset Simulator (if using simulator)

1. **Device menu in Simulator:**
   - Device → Erase All Content and Settings
   - Or use terminal: `xcrun simctl erase all`

### Solution 4: Clear Xcode Derived Data

1. **In Terminal:**
   ```bash
   rm -rf ~/Library/Developer/Xcode/DerivedData
   ```

### Solution 5: Restart Xcode and Simulator

1. Quit Xcode completely
2. Quit iOS Simulator if running
3. Restart both applications

### Solution 6: Check System Resources

The logging timeout can occur when:
- System is under heavy load
- Low disk space
- Many background processes running

### Verification Steps

After applying the fixes:

1. Clean and rebuild the project
2. Run the app and verify it launches successfully
3. Test NFC data collection functionality
4. Check that all tabs (Sessions, Analytics, Settings) work properly

### Additional Environment Variables (Optional)

If issues persist, you can also add these environment variables:

- **Name:** `OS_ACTIVITY_MODE`, **Value:** `disable`
- **Name:** `IDELogRedirectionPolicy`, **Value:** `oslogToStdio`

These will help reduce logging overhead during development.

## Build Commands

If you prefer using command line:

```bash
# Clean project
xcodebuild clean -project CardPilot.xcodeproj

# Build project
xcodebuild build -project CardPilot.xcodeproj -scheme CardPilot

# Build and run in simulator
xcodebuild build -project CardPilot.xcodeproj -scheme CardPilot -destination 'platform=iOS Simulator,name=iPhone 15'
```

## Note

This logging issue doesn't affect the app's functionality - it's purely a development/debugging concern. The CardPilot app will work perfectly once the build completes successfully.
